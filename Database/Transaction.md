# 트랜잭션(Transaction)

데이터베이스와의 논리적 상호작용의 단위
여러 사용자나 프로그램이 동시에 데이터베이스를 사용할 때 **데이터의 일관성과 무결성을 보장**하기 위해 사용된다.  
동시다발적으로 트랜잭션이 실행될 때는 안전한 트랜잭션을 보장하기 위해 **ACID** 성질을 준수해야 한다.

---

## ACID

### 원자성 (Atomicity)
- 하나의 트랜잭션 결과가 **모두 성공하거나 모두 실패**하는 성질 (All or Nothing)
- 트랜잭션 실행 중 DBMS가 다운되면 일부 성공 또는 일부 실패를 허용하면 안 된다.
- 트랜잭션 완료 시 **커밋** 또는 **롤백**으로 데이터 보호
  - **커밋(Commit)**: 트랜잭션을 성공적으로 수행하여 종료  
  - **롤백(Rollback)**: 이전 트랜잭션 상태로 되돌리는 작업

### 일관성 (Consistency)
- 트랜잭션 전후로 데이터베이스가 **일관된 상태**를 유지
- 데이터베이스가 지켜야 하는 규칙(무결성 제약 등)을 항상 만족

### 격리성 (Isolation)
- 동시에 수행되는 트랜잭션이 **서로 간섭하지 않도록** 보장
- 한 트랜잭션이 데이터에 접근 중일 때 다른 트랜잭션이 접근하면 데이터 불일치 발생 가능
- 트랜잭션 격리 수준(Isolation Level)으로 조절 가능

### 지속성 (Durability)
- 트랜잭션이 성공적으로 완료되면 결과가 **영구적으로 반영**
- 시스템 장애 발생 시에도 완료된 트랜잭션 결과는 손실되지 않음

---

## 트랜잭션 격리 수준 (Isolation Level)

| 격리 수준 (Isolation Level) | 허용되는 현상                      | 특징 |
|-----------------------------|---------------------------------|------|
| Read Uncommitted            | 더티 리드(Dirty Read)            | 다른 트랜잭션이 커밋하지 않은 데이터를 읽을 수 있음 |
| Read Committed              | 논리적 읽기만 보장                | 커밋되지 않은 데이터는 읽지 않음; 더티 리드 방지 |
| Repeatable Read             | 논리적 반복 가능(Read 반복 가능) | 같은 트랜잭션 내에서 같은 데이터를 반복 읽으면 항상 동일. 팬텀 리드(Phantom Read) 발생 가능 |
| Serializable                | 팬텀 리드 포함 모든 문제 방지     | 가장 엄격한 격리 수준; 트랜잭션 순차적 실행과 동일 |
