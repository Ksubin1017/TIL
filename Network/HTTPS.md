# SSL(Secure Sockets Layer) / TLS(Transport Layer Security)

인증과 암호화를 수행하는 프로토콜로 TLS는 SSL을 계승한 프로토콜이다.  
큰 틀에서 보면 두 프로토콜의 동작 방식은 유사하다.

오늘날 주로 사용되는 버전은 **TLS 1.2, TLS 1.3**이다.

TLS 1.3 기반 HTTPS 메시지는 다음과 같은 단계를 거쳐 송수신된다.

1. **TCP 3-Way-Handshake**
2. **TLS Handshake**
3. **메시지 송수신**

---

## TLS Handshake

TLS Handshake를 통해 **암호화 통신을 위한 키 생성/교환**과 **인증서 송수신 및 검증**이 수행된다.  

TLS에서 활용되는 암호화 알고리즘을 통해 평문을 암호화하거나 암호문을 복호화하려면 **키**가 필요하다.  
키는 암호화 통신을 수행하는 두 호스트만 알고 있어야 하는 정보이며, TLS Handshake 과정에서 **ClientHello**와 **ServerHello** 메시지를 주고받으며 생성/교환된다.

- **ClientHello**  
  클라이언트가 서버에 송신하는 메시지로, 암호화 통신을 위한 정보(TLS 버전, 암호화 알고리즘, 해시 함수, 키 생성을 위한 클라이언트 난수 등)를 포함한다.  
  - 사용 가능한 암호화 알고리즘과 해시 함수를 서버에 전달하기 위해 **암호 스위트(Cipher Suite)**를 포함하여 전송한다.  
  - 예: `TLS_AES256_GCM_SHA384`와 같이 암호화 알고리즘과 해시 함수를 포함한다.

- **ServerHello**  
  서버는 ClientHello 메시지에 대한 응답으로 ServerHello 메시지를 전송하며, 클라이언트가 제시한 정보 중에서 선택한다.

- **Finished 메시지 교환**  
  인증서를 통해 대상을 확인한 후, 서버와 클라이언트는 Finished 메시지를 서로 송수신한다.  
  이후 TLS Handshake를 기반으로 획득한 키를 사용하여 암호화된 데이터를 주고받는다.

---

## 인증서

인증서는 통신 상대방이 사용자가 의도한 대상이 맞다는 사실을 입증하기 위한 정보이다.  
제3의 기관이 대상이 맞다는 사실을 보장하며, **인증서를 발급하고 검증하는 인증기관(CA)**가 담당한다.
