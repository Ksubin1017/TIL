# IP

**LAN 이상의 다른 네트워크와 통신을 주고받기 위한 프로토콜**

---

## 목적 및 특징

### 주소 지정과 단편화
- 주소 지정은 IP 주소를 통해 이루어지며, IP 패킷 헤더를 통해 알 수 있다.  
- IP에는 **송신지 IP 주소**, **수신지 IP 주소** 필드가 있으며 이 필드에는 송수신지를 식별할 수 있는 IP 주소가 명시된다.

---

### 라우터 (Router)
- **IP 주소를 바탕으로 목적지까지 IP 패킷을 전달하는 네트워크 장비**
- 라우터는 IP 패킷을 전달할 **최적의 경로를 결정**하고 해당 경로로 패킷을 내보낸다.  
  이 과정을 **라우팅(Routing)** 이라고 한다.

---

### 단편화 (Fragmentation)
- 전송하고자 하는 IP 패킷의 크기가 **MTU(Maximum Transmission Unit)** 보다 클 경우, 패킷을 MTU 이하의 여러 패킷으로 나누어 전송하고 수신지에서 재조합된다.
- **MTU**는 프레임을 통해 주고받을 수 있는 **최대 페이로드의 크기**이다.

---

### 비신뢰 통신과 비연결형 통신
- IP는 **신뢰할 수 없는 프로토콜** + **비연결형 프로토콜**이다.  
- 패킷이 수신지까지 제대로 전송되었다고 **보장하지 않는다.**
- 패킷을 주고받기 전에 **사전 연결 과정이 없으며** 수신지를 향해 **패킷을 일방적으로 전송**한다.

---

## IP 주소

- 네트워크 계층에서 각 호스트(기기)를 구분하기 위한 **논리적 주소**
- **네트워크 주소**와 **호스트 주소**로 구성
- 32비트(IPv4) 또는 128비트(IPv6) 로 구성된다.

---

## 클래스풀 주소 체계 (Classful Addressing)

| 클래스 | 시작 비트 | 주소 범위 | 네트워크/호스트 구분 | 용도 |
|---------|------------|------------|-----------------------|------|
| **A** | 0xxxxxxx | 0.0.0.0 ~ 127.255.255.255 | 8비트 네트워크 / 24비트 호스트 | 대규모 네트워크 |
| **B** | 10xxxxxx | 128.0.0.0 ~ 191.255.255.255 | 16비트 네트워크 / 16비트 호스트 | 중규모 네트워크 |
| **C** | 110xxxxx | 192.0.0.0 ~ 223.255.255.255 | 24비트 네트워크 / 8비트 호스트 | 소규모 네트워크 |
| **D** | 1110xxxx | 224.0.0.0 ~ 239.255.255.255 | 멀티캐스트용 | 멀티캐스트 |
| **E** | 1111xxxx | 240.0.0.0 ~ 255.255.255.255 | 예약 | 연구용 |

---

## 서브넷 마스크 (Subnet Mask)

- IP 주소를 네트워크 ID와 호스트 ID로 구분하기 위한 비트 마스크  
- 네트워크 부분은 `1`, 호스트 부분은 `0`으로 표시된다.

---

## 공인 IP (Public IP) vs 사설 IP (Private IP)

| 구분 | 설명 | 예시 |
|------|------|------|
| **공인 IP** | 인터넷에서 고유하게 식별 가능한 주소. ISP(인터넷 서비스 제공자)가 부여 | 8.8.8.8 (Google DNS) |
| **사설 IP** | 내부 네트워크에서만 사용하는 주소. 인터넷에서 직접 접근 불가 | 10.0.0.0 ~ 10.255.255.255<br>172.16.0.0 ~ 172.31.255.255<br>192.168.0.0 ~ 192.168.255.255 |

**NAT (Network Address Translation)**  
사설 IP를 공인 IP로 변환하여 외부 네트워크와 통신할 수 있게 하는 기술.

---

## 정적 할당 (Static IP)

- 직접 IP 주소를 지정하는 방식  
- 주소가 고정되어 변하지 않는다.

**장점**
- 서버, 네트워크 장비 등은 고정 IP로 안정적인 접근 가능  

**단점**
- 관리 비용이 높고, 충돌 위험 존재

---

## 동적 할당 (Dynamic IP)

- 네트워크에 접속할 때마다 자동으로 IP를 부여받는 방식  
- 주로 **DHCP(Dynamic Host Configuration Protocol)** 을 통해 관리된다.

**장점**
- 관리가 간편하고 IP 낭비를 방지한다.

**단점**
- 장비 재부팅 시 주소가 바뀔 수 있다.
