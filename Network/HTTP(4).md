# HTTP의 응용

## 쿠키 (Cookie)

HTTP의 Stateless 특성을 보완하기 위한 대표적인 수단으로, 서버에서 생성되어 클라이언트 측에 저장되는 <이름, 값> 형태의 데이터이다.

- 클라이언트는 서버로부터 받은 쿠키를 브라우저에 저장한다.
- 이후 동일한 서버에 요청을 보낼 때 요청 메시지의 `Cookie` 헤더에 쿠키를 포함하여 전송한다.
- 서버가 클라이언트에 쿠키를 전송할 때는 응답 메시지의 `Set-Cookie` 헤더를 사용한다.

### 쿠키 속성
- **domain / path**  
  쿠키를 전송할 도메인과 경로를 제한한다.
- **Expires / Max-Age**  
  쿠키의 유효기간을 설정하며, 시간이 지나면 삭제된다.
- **Secure**  
  HTTPS를 통해서만 쿠키를 송수신하도록 제한한다.
- **HttpOnly**  
  자바스크립트를 통한 쿠키 접근을 제한하고, HTTP 송수신으로만 접근 가능하게 한다.

---

## 캐시 (Cache)

응답받은 자원의 사본을 임시 저장하여 불필요한 대역폭 낭비와 응답 지연을 방지하는 기술이다.

- 대부분 유효기간이 존재하며, 응답 메시지의 `Expires` 헤더 또는 `Cache-Control` 헤더의 `Max-Age` 값을 사용한다.
- 클라이언트는 응답받은 자원을 임시 저장하여 사용하며, 유효기간이 만료되면 서버에 자원을 다시 요청해야 한다.

### 캐시 신선도
캐시된 사본 데이터가 서버의 원본 데이터와 얼마나 유사한지를 나타내는 정도이다.

### 조건부 요청과 검증
캐시 유효기간이 만료되더라도 서버로부터 새로운 자원을 반드시 받을 필요는 없다.  
서버 원본이 변경되지 않았다면 기존 캐시를 그대로 사용할 수 있기 때문이다.

- 클라이언트는 원본이 변경되었는지 확인하기 위해 `If-Modified-Since` 헤더를 사용하여 서버에 질의한다.

### 서버 응답 종류
- **원본이 변경된 경우**  
  상태코드 **200 OK** 와 함께 새로운 자원을 반환한다.
- **원본이 변경되지 않은 경우**  
  메시지 본문 없이 **304 Not Modified** 를 반환하여 캐시 재사용을 알린다.
- **원본이 삭제된 경우**  
  **404 Not Found** 를 반환한다.
