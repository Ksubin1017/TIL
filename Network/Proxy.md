# 프록시(Proxy)

프록시는 **클라이언트가 전달하려는 요청 메시지를 대신 전달하는 대리자 역할**을 하는 중개 서버  
일반적으로 프록시는 다음과 같은 기능을 수행한다.

- **캐시 저장**: 자주 요청되는 데이터를 저장해 오리진 서버에 대한 요청을 줄인다.  
- **클라이언트 식별 정보 숨기기(익명성 제공)**  
- **보안/암호화 처리**  
- **접근 제어(화이트리스트/블랙리스트 기반 필터링)**  
- **트래픽 관리**  

프록시는 일반적으로 **클라이언트와 오리진 서버 사이에 위치**해 클라이언트의 요청을 받아 오리진 서버에 대신 전달한다.

---

# 오리진 서버(Origin Server)

오리진 서버는 **자원을 실제로 보유하고 생성하는 서버** 
클라이언트가 요청한 콘텐츠를 직접 제공하고 클라이언트의 요청에 대해 **권한이 있는 응답을 생성하는 주체**이다.

예:  
- 웹 애플리케이션 서버  
- 이미지/파일 저장 서버  
- 실제 데이터베이스와 연결되는 서버  

---

# 포워드 프록시(Forward Proxy) vs 리버스 프록시(Reverse Proxy)

## 포워드 프록시
- 흔히 말하는 "프록시 서버"  
- **클라이언트 측에 더 가까이 위치**  
- 클라이언트의 요청을 대신 외부로 전달  
- 클라이언트는 프록시 뒤에 숨겨져 IP 식별이 어려움  
- 주로 사용 목적:
  - 내부 네트워크 보안
  - 필터링(웹 차단)
  - 캐싱을 통한 성능 최적화
  - 익명성 제공  
- 예: 회사 내부에서 외부 인터넷 접속을 제한할 때 사용하는 웹 프록시

**구조**
[Client] → [Forward Proxy] → [Origin Server]

---

## 리버스 프록시
- 게이트웨이(Gateway)라고도 불린다.  
- **오리진 서버 바로 앞에 위치**  
- 외부 클라이언트의 요청을 받아 내부 서버들에게 전달  
- 클라이언트는 리버스 프록시를 **오리진 서버처럼 인식**  
- 주로 사용 목적:
  - 로드 밸런싱
  - SSL/TLS 종료 처리 (오리진 서버 부담 감소)
  - 보안 강화(WAF — 웹 방화벽 역할)
  - 캐싱을 통한 응답 속도 향상
  - 서버 IP 숨기기  
- 예: Nginx, Apache, HAProxy

**구조**
[Client] → [Reverse Proxy] → [Origin Server]

---

# 프록시와 게이트웨이의 차이

- **프록시 = 주로 클라이언트 측에 가까운 중간 서버(Forward Proxy)**
- **게이트웨이 = 주로 서버 측에 가까운 중간 서버(Reverse Proxy)**  

문맥에 따라 다르게 불리지만, HTTP에서 보통 다음과 같이 구분한다:

| 구분 | 위치 | 역할 |
|------|------|------|
| **포워드 프록시** | 클라이언트 측 | 클라이언트 대리, 외부 요청 전달 |
| **리버스 프록시(게이트웨이)** | 서버 측 | 오리진 서버 대리, 내부 서버로 트래픽 분배 |
