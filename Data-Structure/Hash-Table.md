# 해시 테이블 (Hash Table)

키와 값의 대응으로 이루어진 표 형태의 자료구조

- **키(Key)**: 해시 테이블에 대한 입력  
- **값(Value)**: 키를 통해 얻고자 하는 데이터  

일반적인 상황에서 해시 테이블을 활용한 조회, 삽입, 삭제 연산의 시간 복잡도는 **O(1)**

---

## 구조

- 키를 통해 얻고자 하는 데이터는 버킷(bucket) 에 저장된다.  
- 버킷은 여러 개가 존재하며, 이 버킷들이 **배열을 형성**한다.  
- 해시 함수는 키를 인자로 받아 인덱스 를 반환하고, 이 인덱스는 버킷 배열의 인덱스에 해당한다.  
→ 키를 해시 함수에 통과시켜 원하는 버킷에 접근

---

## 해시 함수

- 임의의 길이를 가진 데이터를 고정된 길이의 데이터로 변환하는 단방향 함수
- 해시 값으로의 변환은 가능하지만, 해시 값으로부터 원래 데이터를 **복호화하기는 어렵다**  

이러한 단방향성 덕분에 다음과 같은 용도로 활용
- 무작위 값 생성
- 단방향 암호 생성
- 데이터 무결성 검증

---

## 해시 충돌

서로 다른 키에 대해 같은 해시 값이 대응되는 상황

- 충돌이 발생하면 동일한 해시 값을 이용해 데이터를 저장하려 하므로 전송 과정에서 데이터 변조 위험 등 보안상의 문제가 발생할 수 있다.

---

## 해시 충돌 해결법

### 체이닝(Chaining)

- 충돌이 발생한 데이터를 연결 리스트 로 추가하는 방식  
- 동일한 해시 값을 가진 데이터들이 같은 버킷 내에서 연결 리스트 형태로 연결
- 단점: 충돌이 많아질수록 연결 리스트가 길어져 O(1) 의 속도를 잃고 O(n)으로 악화될 수 있다.

---

### 개방 주소법 (Open Addressing)

- 충돌 발생 시, 해당 버킷이 아닌 다른 인덱스의 버킷에 데이터를 저장
**조사(Probe)**: 비어 있는 다른 버킷의 인덱스를 찾는 과정

#### 선형 조사법

- 충돌 시 다음 인덱스부터 순차적으로 빈 공간을 탐색 - (f(key), f(key) + 1, f(key) + 2, ...)

- 단점: 충돌이 인접 인덱스에 몰리는 군집화(Clustering) 현상 발생  
→ 성능 저하의 원인

#### 이차 조사법

- 선형 조사법의 단점을 완화하기 위해, 제곱수 간격**으로 다음 인덱스를 탐색 - (f(key) + 1², f(key) + 2², f(key) + 3², ...
- 군집화를 어느 정도 줄일 수 있지만, 규칙적인 간격으로 인해 완전한 해결책은 아니다.

#### 이중 해싱

- **2개의 해시 함수**를 사용  
- 충돌 발생 시, 보조 해시 함수를 이용해 다음 인덱스를 계산 - f(key), f(key) + g(key), f(key) + 2g(key), f(key) + 3g(key), ...
- 인덱스가 보다 무작위로 분포되어 선형 조사법의 군집화 문제를 상당 부분 해결

