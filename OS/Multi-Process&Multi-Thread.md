# 멀티 프로세스

동시에 여러 프로세스가 실행되는 것  
예: 웹 브라우저의 탭을 여러 개 실행하는 경우

각기 다른 프로세스들은 기본적으로 자원을 공유하지 않고 독립적으로 실행된다.  
같은 작업을 수행해도 각 PID 값이 다르고, 프로세스별로 할당받은 파일과 입출력 장치 등의 자원이 독립적이기에 다른 프로세스에 영향을 거의 끼치지 않는다.  
따라서 한 프로세스의 실행에 문제가 생겨도 다른 프로세스는 직접적인 영향을 받지 않는다.

---

# 멀티 스레드

하나의 프로세스를 구성하고 있는 코드를 동시에 실행하는 방법에는 여러 스레드를 이용하는 방법이 있다.

하나의 스레드는 **스레드 ID, 프로그램 카운터, 레지스터 값, 스택** 등으로 구성되며,  
스레드마다 프로그램 카운터와 스택을 가지고 있다.  
이로 인해 스레드마다 다음에 실행할 주소를 가지고, 연산 과정의 임시 저장 값을 가질 수 있다.

---

# 멀티 프로세스 vs 멀티 스레드

| 구분 | 멀티 프로세스 | 멀티 스레드 |
|------|----------------|--------------|
| 자원 공유 | 자원을 공유하지 않음 | 프로세스의 자원을 공유 |
| 독립성 | 높음 | 낮음 |
| 통신 방식 | IPC 필요 | 동일 메모리 공간 사용으로 직접 접근 가능 |
| 장점 | 하나의 프로세스 문제 발생 시 다른 프로세스에 영향 없음 | 협력과 통신이 쉬움 |
| 단점 | 자원 소모가 많고 통신이 복잡 | 하나의 스레드 문제 시 전체 프로세스에 영향 가능 |

스레드는 동일한 주소 공간의 코드, 힙, 데이터 영역, 열린 파일과 같은 프로세스의 자원을 공유하기 때문에  
쉽게 협력하고 통신할 수 있다는 장점이 있다.  
하지만 멀티 스레드 환경에서는 한 스레드의 문제로 인해 전체 스레드에 문제가 생길 가능성이 있다는 단점이 있다.

---

# 프로세스 간 통신 (IPC, Inter-Process Communication)

## 1. 공유 메모리

프로세스 간 공유하는 메모리 영역을 토대로 데이터를 주고받는 통신 방식이다.  
각 프로세스가 자신의 메모리 영역을 읽고 쓰는 것처럼 통신하며, 대부분 커널 영역을 거치지 않기 때문에 통신 속도가 빠르다.  
하지만 공유 메모리 영역을 동시에 읽고 쓸 경우 **데이터의 일관성**이 훼손될 수 있다.

프로세스는 기본적으로 자원을 공유하지 않으므로 다른 프로세스의 메모리를 임의로 수정할 수 없다.  
아래와 같이 공유 메모리 공간을 이용하면 여러 프로세스들이 이 공간을 사용하여 통신할 수 있다.

1. 프로세스 A가 공유 메모리에 `hello.txt` 작성  
2. 프로세스 B가 공유 메모리의 `hello.txt` 읽음

---

## 2. 메시지 전달

프로세스 간 주고받을 데이터가 **커널을 거쳐 송수신되는 통신 방식**이다.  
`send()` 시스템 콜로 메시지를 보내고, `recv()` 시스템 콜로 메시지를 받는다.  
커널을 통해 송수신되므로 공유 메모리 방식보다 느리지만, **동기화 문제가 적다.**

### (1) 파이프
단방향 프로세스 간 통신 도구이다.  
양방향 통신을 수행할 경우, **읽기용 파이프**와 **쓰기용 파이프** 두 개를 사용한다.

### (2) 시그널
특정 이벤트가 발생했음을 알리는 비동기적 신호이다.  
시그널을 적절히 활용해 IPC를 수행할 수 있다.

### (3) 원격 프로시저 호출 (RPC)
다른 프로세스의 원격 코드를 실행하는 방식이다.

### (4) 네트워크 소켓
네트워크를 통해 데이터를 송수신하며 프로세스 간 통신을 수행하는 방법이다.
