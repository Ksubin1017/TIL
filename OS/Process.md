# 프로세스

**프로세스(Process)**  
실행 중인 프로그램으로, 운영체제로부터 **CPU**, **메모리** 등의 자원을 할당받아 동작하는 작업의 단위.

---

## 프로세스 종류

- **포그라운드 프로세스 (Foreground Process)**  
  사용자가 보는 공간에서 **사용자와 상호작용하며 실행되는 프로세스**  

- **백그라운드 프로세스 (Background Process)**  
  사용자가 보지 못하는 곳에서 실행되는 프로세스  

- **데몬(daemon)**  
  백그라운드 프로세스 중 **사용자와 별다른 상호작용 없이 주어진 작업만 수행하는 특별한 백그라운드 프로세스**

---

## 프로세스 메모리 영역

### 1. 코드 영역 (Code Segment)
- 실행 가능한 명령어가 저장되는 공간 (텍스트 영역)
- **CPU가 읽고 실행할 명령어**가 담겨 있기 때문에 **읽기 전용(Read-Only)**

### 2. 데이터 영역 (Data Segment)
- 프로그램이 실행되는 동안 **유지할 데이터가 저장되는 공간**
- **전역 변수**, **정적 변수(static variable)** 등이 저장됨

### 3. 힙 영역 (Heap Segment)
- **사용자가 직접 할당 가능한 저장 공간**
- 프로그램 실행 도중 **동적 메모리 할당**이 이루어짐  

> 💡 **메모리 누수(Memory Leak)**  
> 힙 영역에 메모리를 할당했지만 반환하지 않을 경우, 해당 공간이 계속 점유되어 **메모리 낭비가 발생**

### 4. 스택 영역 (Stack Segment)
- **일시적으로 사용할 값들이 저장되는 공간**
- 함수 실행 시 생성되는 **매개변수, 지역 변수, 함수 복귀 주소** 등이 저장됨  
- 함수 실행이 끝나면 스택에 저장된 데이터는 자동으로 사라짐

---

## PCB (Process Control Block)와 문맥 교환 (Context Switching)

운영체제가 여러 프로세스를 관리하기 위해서는 **프로세스를 식별할 수 있는 정보**가 필요함.  
이 정보는 커널 영역에 있는 **PCB(Process Control Block)** 에 저장됨.

### PCB에 저장되는 정보
- 프로세스 ID
- 레지스터 값
- 프로세스 상태
- CPU 스케줄링 정보
- 메모리 관련 정보
- 입출력 장치 관련 정보

> 여러 PCB들은 보통 **커널 내의 프로세스 테이블(Process Table)** 형태로 관리됨.

### 문맥(Context)과 문맥 교환(Context Switching)
- **문맥(Context)**: 프로세스 수행을 재개하기 위해 기억해야 할 정보 (레지스터, 프로그램 카운터 등)
- **문맥 교환(Context Switching)**:  
  프로세스가 CPU를 점유하던 중 **타이머 인터럽트**나 **입출력 요청**으로 인해 다른 프로세스로 전환될 때,
  현재 프로세스의 문맥을 PCB에 백업하고 다음 프로세스의 문맥을 복원하는 과정

---

## 프로세스 상태 (Process State)

| 상태 | 설명 |
|------|------|
| **생성 상태 (new)** | 프로세스가 생성 중인 상태로, 메모리에 적재되어 PCB를 할당받은 상태 |
| **준비 상태 (ready)** | CPU 할당을 기다리는 상태. CPU를 할당받으면 실행 상태로 전환 (**디스패치(dispatch)**) |
| **실행 상태 (running)** | CPU를 할당받아 실행 중인 상태. 타이머 인터럽트가 발생하면 준비 상태로 전환 |
| **대기 상태 (blocked)** | 입출력 작업이나 자원 대기로 인해 실행이 불가능한 상태. 조건이 충족되면 준비 상태로 전환 |
| **종료 상태 (terminated)** | 프로세스가 실행을 마치고 종료된 상태. PCB 및 사용 메모리를 정리 |
